<div class="skn-loading" *ngIf="loading">
    <mat-spinner></mat-spinner>
</div>
<article *ngIf="!loading" class="container">
    <section>
        <h1 style="text-align: center;">{{chapter.nvl_title}}</h1>
        <div class="d-flex" style="justify-content: center;">
            <h2>Comentarios de: {{chapter.chp_title}}</h2>
            <a [routerLink]="['/novelas', chapter.nvl_id, chapter.nvl_name, chapter.id, chapter.chp_name]">
                <button type="button" mat-raised-button color="primary" style="margin-left: 15px;"><span class="material-icons">arrow_forward</span></button>
            </a>
        </div>

    </section>

    <section>
        <form *ngIf="user" #commentForm="ngForm">
            <div class="skn-nvl-rating-comment-textarea" style="align-items: unset;">
                <a [routerLink]="['/perfil', user.id, user.user_login]" class="fit-height-content">
                    <div class="skn-user-image" style="margin-right: 15px;">
                        <img [src]="user.image | noUserImage" alt="">
                    </div>
                </a>
                <div class="skn-nvl-rating-comment-textarea-input">
                    <mat-form-field style="width: 100%;">
                        <mat-label>Agregar un comentario</mat-label>
                        <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1" cdkAutosizeMaxRows="10" #comment="ngModel" name="advertisement.comment" [(ngModel)]="chapter.comment" required minlength="2"></textarea>
                    </mat-form-field>
                </div>
                <button class="skn-nvl-rating-comment-textarea-button" mat-raised-button color="primary" (click)="ps.createCommentFunction(user, chapter, 'chp_id')" [disabled]="commentForm.invalid">Publicar</button>
            </div>
        </form>
        <app-comments [comments]="chapter.comments"></app-comments>
    </section>
</article>