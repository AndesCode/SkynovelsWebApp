<div class="bigContainer" style="position: fixed; z-index:9999; background-color: rgba(0,0,0,0.6); width: 100%; height: 100%;" *ngIf="this.loginButton" class="fadeIn" (keyup.escape)="closeLoginForm()">
    <div class="wrapper fadeInDown">
        <div id="formContent">
            <!-- Tabs Titles -->

            <!-- Icon -->
            <div class="fadeIn first">
                <button class="btn escapeModal" (click)="closeLoginForm()">X</button>
            </div>

            <!-- Forms -->
            <div class="loginForm">
                <div class="row justify-content-center formFields">
                    <!-- Login form -->
                    <form #loginForm="ngForm" (ngSubmit)="login(loginForm)" autocomplete="off" *ngIf="currentForm === 'login'">
                        <input type="text" id="login" class="fadeIn second formInput" name="login" placeholder="Usuario o correo electronico" #userModel="ngModel" name="user_login" [(ngModel)]="user.user_login" required autofocus>
                        <input type="password" id="password" class="fadeIn third formInput" name="password" placeholder="Contraseña" #password="ngModel" name="user_pass" [(ngModel)]="user.user_pass" required>
                        <input type="submit" class="fadeIn fourth" value="Iniciar sesión">
                    </form>
                    <!-- Register form -->
                    <form #registerForm="ngForm" (ngSubmit)="register(registerForm)" autocomplete="off" *ngIf="currentForm === 'register' && !registerCompleted">
                        <input type="text" id="login" class="fadeIn formInput" placeholder="Nombre de usuario" #user_login="ngModel" name="user_login" [(ngModel)]="user.user_login" required autofocus minlength="5" pattern="^[a-zA-Z\u00d1\u00f1]{3}(?=.{2,12}$)(?![0-9])[a-zA-Z0-9\u00d1\u00f1]+$">
                        <div *ngIf="user_login?.errors?.pattern" class="form-control-feedback">
                            Intenta algo como pablo o pablo123
                        </div>
                        <input type="email" id="email" class="fadeIn second formInput" placeholder="Correo electronico" #email="ngModel" name="user_email" [(ngModel)]="user.user_email" required email>
                        <div *ngIf="email?.errors?.email" class="form-control-feedback">
                            Debe ser un email valido pablito@email.com
                        </div>
                        <input type="password" id="password" class="fadeIn third formInput" placeholder="Contraseña" #password="ngModel" name="user_pass" [(ngModel)]="user.user_pass" required minlength="8" maxlength="16" pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z_.\d]{8,16}$">
                        <div *ngIf="password?.errors?.pattern" class="form-control-feedback">
                            Minimo 8 caracteres, al menos un numero y una letra
                        </div>
                        <input type="password" id="confirm_password" class="fadeIn third formInput" placeholder="Confirma tu contraseña" #user_confirm_pass="ngModel" name="user_confirm_pass" [(ngModel)]="user.user_confirm_pass" required minlength="8" maxlength="16">
                        <div *ngIf="user_confirm_pass?.errors?.minlength" class="form-control-feedback">
                            Santa no te dara regalos si no coincide con lo de arriba
                        </div>
                        <input type="submit" class="fadeIn fourth" value="¡Registrarse!">
                    </form>
                    <!-- Password recovery form (ngSubmit)="passwordResetRequest(forggotPasswordForm)"-->
                    <form #forggotPasswordForm="ngForm" autocomplete="off" *ngIf="currentForm === 'forgot_password'">
                        <input type="email" id="login" class="fadeIn formInput" name="req_email" placeholder="Correo electronico" #req_email="ngModel" [(ngModel)]="user.user_email" required email autofocus>
                        <input type="submit" class="fadeIn second" value="Enviar Correo" [disabled]="!forggotPasswordForm.form.valid">
                    </form>
                </div>
                <div class="alert  mx-auto" role="alert" *ngIf="this.message" [ngClass]="{'alert-danger': this.isError, 'alert-success': !this.isError}">
                    {{this.message}}
                </div>
                <div class="alert  mx-auto alert-success" role="alert" *ngIf="currentForm === 'register' && registerCompleted">
                    ¡Registro completado! revisa tu correo electornico.
                </div>
                <a class="underlineHover" style="cursor: pointer" (click)="change_form('register')" *ngIf="this.currentForm === 'login' && !registerCompleted">¿No tienes cuenta? ¡Registrate Aquí!</a>

                <div id="formFooter">
                    <a class="underlineHover" (click)="change_form('forgot_password')" style="cursor: pointer" *ngIf="this.currentForm === 'login'">¿Olvidaste tu contraseña?</a>
                    <a class="underlineHover" (click)="change_form('login')" style="cursor: pointer" *ngIf="this.currentForm !== 'login'">Volver a inicio de sesión</a>
                </div>
            </div>
        </div>
    </div>
</div>